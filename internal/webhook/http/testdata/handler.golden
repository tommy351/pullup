# Generated by goldga. DO NOT EDIT.
[snapshots]
"Handler when action = apply when resource template does not exist should match the golden file" = '''
- apiVersion: pullup.dev/v1beta1
  kind: ResourceTemplate
  metadata:
    creationTimestamp: null
    name: foobar-rt
    namespace: test
    ownerReferences:
    - apiVersion: pullup.dev/v1beta1
      blockOwnerDeletion: true
      controller: true
      kind: HTTPWebhook
      name: foobar
      uid: ""
    selfLink: /apis/pullup.dev/v1beta1/namespaces/test/resourcetemplates/foobar-rt
  spec:
    data:
      event: null
      webhook:
        apiVersion: pullup.dev/v1beta1
        kind: HTTPWebhook
        metadata:
          name: foobar
        spec:
          patches:
          - apiVersion: v1
            kind: Pod
            sourceName: foo
          resourceName: '{{ .webhook.metadata.name }}-rt'
        status: {}
    patches:
    - apiVersion: v1
      kind: Pod
      sourceName: foo
  status: {}
'''
"Handler when action = apply when resource template exists should match the golden file" = '''
- apiVersion: pullup.dev/v1beta1
  kind: ResourceTemplate
  metadata:
    creationTimestamp: null
    name: foobar-rt
    namespace: test
    selfLink: /apis/pullup.dev/v1beta1/namespaces/test/resourcetemplates/foobar-rt
  spec:
    data:
      event: null
      webhook:
        apiVersion: pullup.dev/v1beta1
        kind: HTTPWebhook
        metadata:
          name: foobar
        spec:
          patches:
          - apiVersion: v1
            kind: Pod
            sourceName: foo
          resourceName: '{{ .webhook.metadata.name }}-rt'
        status: {}
    patches:
    - apiVersion: v1
      kind: Pod
      sourceName: foo
  status: {}
'''
"Handler when request body is valid when resource template does not exist should match the golden file" = '''
[]
'''
"Handler when schema is given when data matches the schema should match the golden file" = '''
- apiVersion: pullup.dev/v1beta1
  kind: ResourceTemplate
  metadata:
    creationTimestamp: null
    name: foobar-bar
    namespace: test
    ownerReferences:
    - apiVersion: pullup.dev/v1beta1
      blockOwnerDeletion: true
      controller: true
      kind: HTTPWebhook
      name: foobar
      uid: ""
    selfLink: /apis/pullup.dev/v1beta1/namespaces/test/resourcetemplates/foobar-bar
  spec:
    data:
      event:
        bar: 123
        foo: bar
      webhook:
        apiVersion: pullup.dev/v1beta1
        kind: HTTPWebhook
        metadata:
          name: foobar
        spec:
          patches:
          - apiVersion: v1
            kind: Pod
            sourceName: foo
          resourceName: '{{ .webhook.metadata.name }}-{{ .event.foo }}'
          schema:
            properties:
              bar:
                type: number
              foo:
                type: string
            type: object
        status: {}
    patches:
    - apiVersion: v1
      kind: Pod
      sourceName: foo
  status: {}
'''
